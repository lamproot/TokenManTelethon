<include file="public:header" />
<link href="__PUBLIC__/css/plugins/iCheck/custom.css" rel="stylesheet">
<div class="row wrapper border-bottom white-bg page-heading">
	<div class="col-lg-10">
		<ol class="breadcrumb">
			<a href="__URL__"><i class="fa fa-home"></i></a>
            <li>
                <a href="__URL__">首页</a>
            </li>
            <li>
                <a>管理员管理</a>
            </li>
            <li>
                <strong>添加管理员</strong>
            </li>
        </ol>
	</div>
</div>
<div class="wrapper wrapper-content animated">
	<div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5 class="text-center">新增管理员</h5>

                </div>
                <div class="ibox-content">
					<form class="form-horizontal m-t" id="signupForm" action="__APP__/Admins/edit" method="post">
						<input type="hidden" name="form_key" value="yes">
						<input type="hidden" name="id" value="{$result['admin']['id']}">
                        <div class="form-group">
                            <label class="col-sm-3 control-label">*管理员名:</label>
                            <div class="col-sm-6">
                                <input id="username" name="username" class="form-control" type="text" aria-required="true" aria-invalid="true" class="error" value="{$result['admin']['name']}">
                            </div>
                        </div>

						<div class="form-group">
                            <label class="col-sm-3 control-label">*账号:</label>
                            <div class="col-sm-6">
                                <input id="mobile" name="mobile" class="form-control" type="text" aria-required="true" aria-invalid="true" class="error" value="{$result['admin']['mobile']}">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label">*密码:</label>
                            <div class="col-sm-6">
                                <input id="password" name="password" class="form-control" type="password">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">*确认密码:</label>
                            <div class="col-sm-6">
                                <input id="confirm_password" name="confirm_password" class="form-control" type="password">
                            </div>
							<div class="col-sm-3">
								<span class="help-block">(建议不小于6位数,且不为纯数字)</span>
							</div>
                        </div>

						<div class="form-group">
							<label class="col-sm-3 control-label">*权限:</label>
							<div class="col-sm-6">
								<select class="form-control" name="type_str">
									<foreach name="result['auth']" item="item">
										<option value="{$item.type_str}">{$item.name}</option>
									</foreach>
								</select>
							</div>
						</div>

                        <div class="form-group">
                            <div class="col-sm-6 col-sm-offset-3">
                                <button class="btn btn-primary" type="submit">提交</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>


</div>
<include file="public:footer" />
<!-- jQuery Validation plugin javascript-->
<script src="__PUBLIC__/js/plugins/validate/jquery.validate.min.js"></script>
<script src="__PUBLIC__/js/plugins/validate/messages_zh.min.js"></script>
<script>
   //以下为修改jQuery Validation插件兼容Bootstrap的方法，没有直接写在插件中是为了便于插件升级
   $.validator.setDefaults({
	   highlight: function (element) {
		   $(element).closest('.form-group').removeClass('has-success').addClass('has-error');
	   },
	   success: function (element) {
		   element.closest('.form-group').removeClass('has-error').addClass('has-success');
	   },
	   errorElement: "span",
	   errorClass: "help-block m-b-none",
	   validClass: "help-block m-b-none"


   });

	//以下为官方示例
   $().ready(function () {
	   // validate signup form on keyup and submit
	   $("#signupForm").validate({
		   rules: {
			   firstname: "required",
			   lastname: "required",
			   username: {
				   required: true
			   },
			   password: {
				   required: true,
				   minlength: 6
			   },
			   confirm_password: {
				   required: true,
				   minlength: 6,
				   equalTo: "#password"
			   },
			   mobile: {
				   required: true,
				   mobile: true
			   },
			   topic: {
				   required: "#newsletter:checked",
				   minlength: 2
			   },
			   agree: "required"
		   },
		   messages: {
			   username: {
				   required: "请输入管理员名"
			   },
			   password: {
				   required: "请输入您的密码",
				   minlength: "密码必须6个字符以上"
			   },
			   confirm_password: {
				   required: "请再次输入密码",
				   minlength: "密码必须6个字符以上",
				   equalTo: "两次输入的密码不一致"
			   },
			   email: "请输入您的E-mail",
			   agree: "请输入邮箱"
		   }
	   });
   });
</script>
